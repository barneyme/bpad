<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="theme-color" content="#2980b9" />
        <meta name="description" content="bEdit - browser text editor">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-title" content="bEdit">
        <title>bEdit : browser Editor</title>
        <link rel="manifest" href="manifest.json" />
        <link rel="stylesheet" href="style.css">
	<link rel="icon" type="image/png" sizes="192x192" href="./bedit192.png">
	<link rel="icon" type="image/png" sizes="512x512" href="./bedit512.png">
	<link rel="shortcut icon" href="./bedit192.png">
	<link rel="apple-touch-icon" href="./bedit192.png">
    </head>
    <body>
        <div class="snow-container">
            <div class="snowflake"></div>
            <div class="snowflake"></div>
            <div class="snowflake"></div>
            <div class="snowflake"></div>
            <div class="snowflake"></div>
            <div class="snowflake"></div>
            <div class="snowflake"></div>
            <div class="snowflake"></div>
            <div class="snowflake"></div>
            <div class="snowflake"></div>
            <div class="snowflake"></div>
            <div class="snowflake"></div>
        </div>
        <nav>
            <span id="controls">
                <button id="openNewTab" title="New (CTRL + N)"><strong>&#128196;</strong> <span class="button-text">New</span></button>
                <button id="open" title="Open (CTRL + O)"><strong>&#128194;</strong> <span class="button-text">Open</span></button>
                <span id="filename-container">
                    <input id="filename-1" placeholder="bedit.txt" title="Filename" list="recent-files-datalist-1" />
                    <datalist id="recent-files-datalist-1"></datalist>
                    <input id="filename-2" placeholder="bedit.txt" title="Filename" list="recent-files-datalist-2" style="display: none;" />
                    <datalist id="recent-files-datalist-2"></datalist>
                    <button id="recent-files-btn" title="Recent Files">&#9662;</button>
                    <div id="recent-files-dropdown" class="dropdown-content"></div>
                </span>
                <button id="save" title="Save (CTRL + S)"><strong>&#128190;</strong> <span class="button-text">Save</span></button>
                <button id="find-replace-button" title="Find (CTRL + F)"><strong>&#128269;</strong> <span class="button-text">Find</span></button>
                <button id="open-link-btn" title="(CTRL + K) Open web link" style="display: none;"><strong>&#128279;</strong> <span class="button-text">Link</span></button>
                <button id="undo" disabled title="Undo (CTRL + Z)"><strong>&#x21A9;</strong> <span class="button-text">Undo</span></button>
                <button id="split-view-btn" title="Split View (CTRL + I)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="vertical-align: text-top;">
                        <path d="M5.063.5A1.563 1.563 0 0 0 3.5 2v12A1.563 1.563 0 0 0 5.063 15.5h5.874A1.563 1.563 0 0 0 12.5 14V2a1.563 1.563 0 0 0-1.563-1.5H5.063zM4.5 2a.563.563 0 0 1 .563-.5h5.874a.563.563 0 0 1 .563.5v12a.563.563 0 0 1-.563.5H5.063a.563.563 0 0 1-.563-.5V2z"/>
                        <path d="M7.75 15.5V.5h.5v15h-.5z"/>
                    </svg>
                  <span class="button-text">Split</span>
                </button>
                <span id="stats">
                    <span class="stat-item" title="Current line number">
                        <span class="stat-label">&#8595;</span>
                        <span id="line-position">1</span>
                    </span>
                    <span class="stat-item" title="Current character position">
                        <span class="stat-label">&#8594;</span>
                        <span id="char-position">1</span>
                    </span>
                    <span class="stat-item" title="Total word count">
                        <span class="stat-label">=</span>
                        <span id="word-count">0</span>
                    </span>
                </span>
                <button id="install-app" title="Install" style="display: none;"><strong>&#x2B07;</strong> <span class="button-text">PWA</span></button>
                <button id="settings-btn" title="Settings (CTRL + G)"><strong>&#9881;</strong> <span class="button-text">Settings</span></button>
                <button id="readme-button" title="Help (CTRL + H)"><strong>&#63;</strong> <span class="button-text">Help</span></button>
            </span>
            <span id="app-name"><strong>bEdit</strong> : <strong>b</strong>rowser <strong>Edit</strong>or</span>
        </nav>
        <div id="editor-container">
            <div class="editor-pane" id="editor-pane-1">
                <div id="active-line-1" class="active-line"></div>
                <div id="highlight-layer-1" class="highlight-layer"></div>
                <textarea
                    id="textbox-1"
                    class="textbox"
                    autofocus
                    placeholder="Welcome to bEdit. Start typing to begin or click &#63; Help for help."
                    spellcheck="false"
                ></textarea>
            </div>
            <div class="editor-pane" id="editor-pane-2" style="display: none;">
                <div id="active-line-2" class="active-line"></div>
                <div id="highlight-layer-2" class="highlight-layer"></div>
                <textarea
                    id="textbox-2"
                    class="textbox"
                    placeholder="Open a second file or start typing."
                    spellcheck="false"
                ></textarea>
            </div>
        </div>
        <input type="file" id="open-input-1" style="display: none" />
        <input type="file" id="open-input-2" style="display: none" />
        <div id="popup-overlay"></div>
        <div id="readme-popup" class="popup">
            <button class="close-btn">×</button>
            <h2>Help</h2>
            <div id="readme-content">
                <p>
                    bEdit is a browser editor. It can open, create, and save basic plaintext files such as <a href="https://en.wikipedia.org/wiki/Plain_text">.txt</a>; data files such as .csv; markup and documentation files such as <a href="https://www.w3schools.com/html/">.html</a> and <a href="https://www.markdownguide.org/">.md</a>; configuration files such as .ini, .yml and .json; log files such as .log; source code files such as <a href="https://www.w3schools.com/python/">.py</a>, <a href="https://www.w3schools.com/js/default.asp">.js</a>, and <a href="https://www.w3schools.com/java/default.asp">.java</a>; and scripts such <a href="https://ss64.com/nt/">.bat</a>, <a href="https://ss64.com/ps/">.ps1</a> and <a href="https://ss64.com/bash/">.sh</a>.
                </p>
                <h2>Directions</h2>
                <p>
                    Open bedit.org in web browser and start writing. Changes are
                    automatically saved in your browser. (Save your file before clearing browser cache.)<br />
                    <br />
                    bEdit can be used offline after the first use. Reopen bedit.org in your browser to continue working on your
                    file.<br />
                    <br />
                    Files can be opened by drag and drop to bEdit or using "Open" button.<br />
                    To save a file outside of your Downloads folder enable the "Ask where to save each file before downloading" setting in your browser.<br />
                    <br />
                    ( ), [ ], { ], " ", ' ' and < > brackets auto close.<br />
                    <br />
                    &#8595; displays the current line number.<br />
                    &#8594; displays the current character position.<br />
                    = displays the current word count.<br />
                    &#x2B07; PWA installs bEdit as an offline Progressive Web App.<br />
                </p>
                <h2>Shortcuts</h2>
                    <b>CTRL + N</b> (&#128196; New) to create a blank file in a new tab.<br />
                    <b>CTRL + O</b> (&#128194; Open) to open a file from your computer.<br />
                    <b>CTRL + S</b> (&#128190; Save) to save a file to your computer.<br />
                    <b>CTRL + I</b> (<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="vertical-align: text-top; display: inline-block;"><path d="M5.063.5A1.563 1.563 0 0 0 3.5 2v12A1.563 1.563 0 0 0 5.063 15.5h5.874A1.563 1.563 0 0 0 12.5 14V2a1.563 1.563 0 0 0-1.563-1.5H5.063zM4.5 2a.563.563 0 0 1 .563-.5h5.874a.563.563 0 0 1 .563.5v12a.563.563 0 0 1-.563.5H5.063a.563.563 0 0 1-.563-.5V2z"/><path d="M7.75 15.5V.5h.5v15h-.5z"/></svg> Split) to toggle split view.<br />
                    <b>CTRL + F</b> (&#128269; Find) to <a href="https://regex101.com/">find</a> and replace text.<br />
                    <b>CTRL + K</b> to open a web link on current line in a new tab.<br />
                    <b>CTRL + G</b> (&#9881; Settings) to open the settings window.<br />
                    <b>CTRL + Z</b> (&#x21A9; Undo) to undo the last change and CTRL + Y to redo it.<br />
                    <b>CTRL + M</b> to cycle through Light, Dark, and Snow modes.<br />
                    <b>CTRL + H</b> (&#63; Help) to view this help file.
                </p>
                <h2>Privacy</h2>
                <p>
                    bEdit.org does not (and cannot):<br />
                    <ul>
                    <li>access your content,</li>
                    <li>criticize your writing or coding,</li>
                    <li>track any activity on your computer,</li>
                    <li>judge your music choices,</li>
                    <li>identify who you are,</li>
                    <li>sell your data.</li>
                    </ul>
                </p>
                <h2>About</h2>
                <p>
                    bEdit was created by <a href="https://barney.me">Barney</a>.<br />
                    I hope you find bEdit useful. If you want to support bEdit.org buy me a
                    <a href="https://buymeacoffee.com/barneymatthews">coffee</a>.
                </p>
            </div>
        </div>
        <div id="find-replace-popup" class="popup">
            <button class="close-btn">×</button>
            <h2>Find & Replace</h2>
            <div>
                <div class="find-replace-input-group">
                    <input type="text" id="find-text" placeholder="Find" />
                    <div class="find-options">
                        <label title="Case-sensitive">
                            <input type="checkbox" id="case-sensitive-checkbox" /> Aa
                        </label>
                        <label title="Use regular expressions">
                            <input type="checkbox" id="regex-checkbox" /> .*
                        </label>
                    </div>
                </div>
                <div class="find-replace-input-group">
                    <input type="text" id="replace-text" placeholder="Replace" />
                </div>
                <div id="find-replace-buttons">
                    <span id="find-count"></span>
                    <button id="find-btn">Find</button>
                    <button id="replace-btn">Replace</button>
                    <button id="replace-all-btn">Replace All</button>
                </div>
            </div>
        </div>
        <div id="settings-popup" class="popup">
            <button class="close-btn">×</button>
            <h2>Settings</h2>
            <div class="settings-container">
                <div class="settings-section">
                    <h3>Defaults</h3>
                    <div class="setting-item">
                        <label for="default-word-wrap">Word Wrap</label>
                        <input type="checkbox" id="default-word-wrap" />
                    </div>
                    <div class="setting-item">
                        <label for="default-split-view">Split View</label>
                        <input type="checkbox" id="default-split-view" />
                    </div>
                    <div class="setting-item">
                        <label for="default-auto-indent">Auto Indent</label>
                        <input type="checkbox" id="default-auto-indent" />
                    </div>
                    <div class="setting-item">
                        <label for="default-turbo-boost">Turbo Boost</label>
                        <input type="checkbox" id="default-turbo-boost" />
                    </div>
                    <div class="setting-item">
                        <label for="enable-spell-checker">Enable Spell Checker</label>
                        <input type="checkbox" id="enable-spell-checker" />
                    </div>
                    <div class="setting-item">
                        <label for="auto-close-brackets">Autoclose brackets</label>
                        <input type="checkbox" id="auto-close-brackets" />
                    </div>
                    <div class="setting-item">
                        <label for="default-theme">Theme</label>
                        <select id="default-theme">
                            <option value="light">Light</option>
                            <option value="dark">Dark</option>
                            <option value="snow">Snow</option>
                        </select>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>Text Expander</h3>
                    <p>Create shortcuts that automatically expand when you type the trigger (e.g., <code>.a</code> [space]).</p>
                    <div id="text-expansion-content"></div>
                </div>
            </div>
            <div id="settings-actions">
                <button id="export-settings-btn">Export All Settings</button>
                <button id="import-settings-btn">Import All Settings</button>
            </div>
            <input type="file" id="import-settings-input" accept=".json" style="display: none;" />
        </div>

        <script src="script.js"></script>
    </body>
</html>
